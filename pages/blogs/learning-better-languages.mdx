import Layout from "../../components/layout.js";
import { Footer }  from "../../components/blog/footer";
import { BlogHeader }  from "../../components/blog/blogHeader";

<Layout>

<BlogHeader
  title="Learning better languages"
  date=""
  author="Lachlan Stephan"
  headMeta="Learning better languages"
/>

This is a bit of hot topic but it really shouldn't be.

<br />

The languages I am most familiar with are Typescript, Javascript and PHP. Two of these are loosely typed and one is not (hopefully).

<br />

At work I've used a lot vanilla JS & PHP... And so have others. The code base is quite large (~10yr project) and so I have know been exposed to what a lot of loosely typed code looks like. My conclusion so far is - how do these languages even get selected for professional projects that will exist for multiple years.

<br />

Fistly, I know that with good practices and some tlc a decently *clean* codebase can be written in JS or PHP. However, most companies or people don't have this luxury. There are small teams moving quickly, inexperienced devs (me) and a boatload of other things that could contribute to this.

<br />

The problem is for most cases it feels like the large and messy codebase is almost inevitable. One day you open your editor to fix a bug, the bug lives within a ~70 line fucntion that takes several params (all without types) and you need to do something like... 

<br />

``` 
function demo(
  param1, 
  param2, 
  param3,   
  param4, 
  param5
) {
  console.log([
    "potenital prob 1", param1,
    "potenital prob 2", param2,
    "potenital prob 3", param3,
    "potenital prob 4", param4,
    "potenital prob 5", param5,
  ]);
  // code 
} 
``` 
<br />

I'll also quickly mention that to see this console.log you might have to go through several annoying steps to execute the code. And yes I know this is obviously some poor code - but god damn if this isn't the world we live in.

<br />

So when you finally find the bug, it's because param1 is typically an array of strings (string[]) but in this case it was just a string. There is some code in the function that calls .splice() on the array when a condition is met. Ahhh crap...

<br />

So if this was .ts instead - in this very cherry picked example, we never would even run the faulty code. Lets continue with the example.

<br />

What if the code is all working correctly, param1 is only ever passed string[] and there is no bug. Lets say there is a new dev in still in their onbaording and one of the very first tickets they are assigned is to go into this code and add some new functionality. 

<br />

The new dev needs to go in and add a users last name initial to the end of the firstname on the client side of stuff.

<br />

They head into the code and after some digging around find said function. Currently with no idea of what any of these parms mean or do. They are using console.log on all of them trying to figure out how to execute the statement.

<br />

You could find out via the network tab or checking the api controller that sends the data but that probably isn't your first thought and shouldn't need to be done for something like this. 

<br />

Now imagine we are in .ts land... The new dev finds the correct file, maybe they find the interface first - with a complete list of all properties. Maybe they find the function first and using the lsp can type 'param1.' nd see all the suggestions.

<br /> 

Maybe the also find param1: any[]. Unlucky.

<br /> 

I know this is a rather basic example but it does causes page breaking bugs in prod and also just an creates annoying dev experience. 

<br />
  
<Footer />

</Layout>
